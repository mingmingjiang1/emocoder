

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/emocoder/img/fluid.png">
  <link rel="icon" href="/emocoder/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="è¿·é€”çŸ¥è¿”">
  <meta name="keywords" content="">
  
    <meta name="description" content="Introduction Regular languages  The weakest formal languages widely used Many applications  æ­£åˆ™è¡¨è¾¾å¼çš„ç¼ºé™·ï¼š    Parserï¼š  Input: sequence of tokens from lexer Output: parse tree pf the program  12345678Cool:">
<meta property="og:type" content="article">
<meta property="og:title" content="æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 3 Parsing Analysis 1 (Introduction &amp; LL Analysis)">
<meta property="og:url" content="https://mingmingjiang1.github.io/emocoder/2023/06/10/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E4%B8%89/index.html">
<meta property="og:site_name" content="è¿·é€”çŸ¥è¿”">
<meta property="og:description" content="Introduction Regular languages  The weakest formal languages widely used Many applications  æ­£åˆ™è¡¨è¾¾å¼çš„ç¼ºé™·ï¼š    Parserï¼š  Input: sequence of tokens from lexer Output: parse tree pf the program  12345678Cool:">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-06-10T10:06:16.000Z">
<meta property="article:modified_time" content="2023-06-19T15:28:22.565Z">
<meta property="article:author" content="è¿·é€”çŸ¥è¿”">
<meta property="article:tag" content="ç¼–è¯‘åŸç†ï¼Œè®¡ç®—æœºåŸºç¡€ï¼Œcool">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 3 Parsing Analysis 1 (Introduction &amp; LL Analysis) - è¿·é€”çŸ¥è¿”</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/emocoder/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/emocoder/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/emocoder/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"mingmingjiang1.github.io","root":"/emocoder/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/emocoder/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/emocoder/js/utils.js" ></script>
  <script  src="/emocoder/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/emocoder/">
      <strong>Emoer</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/emocoder/">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/emocoder/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/emocoder/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/emocoder/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/emocoder/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/emocoder/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 3 Parsing Analysis 1 (Introduction &amp; LL Analysis)"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-06-10 18:06" pubdate>
          2023å¹´6æœˆ10æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          14k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          113 åˆ†é’Ÿ
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 3 Parsing Analysis 1 (Introduction &amp; LL Analysis)</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="introduction">Introduction</h2>
<p>Regular languages</p>
<ul>
<li>The weakest formal languages widely used</li>
<li>Many applications</li>
</ul>
<p>æ­£åˆ™è¡¨è¾¾å¼çš„ç¼ºé™·ï¼š</p>
<ul>
<li></li>
</ul>
<p>Parserï¼š</p>
<ul>
<li>Input: sequence of tokens from lexer</li>
<li>Output: parse tree pf the program</li>
</ul>
<figure class="highlight hsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs hsp">Cool:<br>	<span class="hljs-keyword">if</span> x = y then <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">2</span> fi<br>Parser <span class="hljs-keyword">input</span>:<br>	<span class="hljs-keyword">IF</span> ID = ID THEN <span class="hljs-keyword">INT</span> <span class="hljs-keyword">ELSE</span> <span class="hljs-keyword">INT</span> FI<br>Parser output:<br>		 <span class="hljs-keyword">IF</span>-THEN-<span class="hljs-keyword">ELSE</span><br>	=      <span class="hljs-keyword">INT</span>      <span class="hljs-keyword">INT</span><br>ID ID    <br></code></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th>Phase</th>
<th>Intput</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lexer</td>
<td>String of characters</td>
<td>String of tokens</td>
</tr>
<tr class="even">
<td>Parser</td>
<td>String of tokens</td>
<td>Parse tree</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ä¸Šé¢ä¸¤æ­¥æœ‰çš„ç¼–è¯‘å™¨æ˜¯åˆ†å¼€åšçš„ï¼Œæœ‰çš„ç¼–è¯‘å™¨æ˜¯æ”¾åœ¨ä¸€èµ·åšçš„</p>
</blockquote>
<h2 id="ä¸Šä¸‹æ— å…³æ–‡æ³•">ä¸Šä¸‹æ— å…³æ–‡æ³•</h2>
<p>ç”±è¯æ³•åˆ†æå™¨å¾—åˆ°çš„tokenså¹¶ä¸å…¨æ˜¯æœ‰ç”¨çš„ï¼Œæ¯”å¦‚æ ‡ç‚¹ç¬¦å·ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å¿…é¡»è¯†åˆ«å“ªäº›æ˜¯æœ‰æ•ˆtokenï¼Œå“ªäº›æ˜¯æ— æ•ˆçš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æè¿°è§„åˆ™æ¥æè¿°ä½•ä¸ºæœ‰æ•ˆtokenï¼Œä»¥åŠä¸€ç§è¯†åˆ«æœ‰æ•ˆtokençš„æ–¹æ³•</p>
<p>ç¨‹åºè¯­è¨€éƒ½æ˜¯æœ‰ç€nested(é€’å½’)çš„ç»“æ„ï¼Œå¦‚ï¼š</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gauss">EXPR = <span class="hljs-keyword">if</span> <span class="hljs-keyword">EXPR</span> then <span class="hljs-keyword">EXPR</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">EXPR</span> fi<br>	<span class="hljs-keyword">while</span> <span class="hljs-keyword">EXPR</span> loop <span class="hljs-keyword">EXPR</span> pool<br></code></pre></td></tr></table></figure>
<p><strong>ä¸Šä¸‹æ— å…³æ–‡æ³•æ®è¯´ä¸€ç§æè¿°è¿™ç§é€’å½’ç»“æ„çš„natural
notation</strong></p>
<p>CFG ç”±ä¸‹é¢å‡ éƒ¨åˆ†æ„æˆï¼š</p>
<ul>
<li>a set of terminals: <span class="math inline">\(T\)</span></li>
<li>a set of nn-terminals: <span class="math inline">\(N\)</span></li>
<li>a start symbol: <span class="math inline">\(S (S \in
N)\)</span></li>
<li>a set of productions:$ X -&gt; Y_1, ... Y_N (X N, Y_i N T {})$</li>
</ul>
<ol type="1">
<li>Begin with a string with only the start symbol S</li>
<li>Replace any non-terminal X in the string by the right-hand side of
some production</li>
<li>Repeat (2) until there are non-terminals</li>
</ol>
<p>let G be a contexto-free grammar with start symbol S. Then the
language L(G) of is: <span class="math display">\[
\{ a_1, ... a_n \quad | \quad \forall_i \quad a_i \in T \and S
\mathop{\rightarrow}^* a_1, ..., a_n \}
\]</span></p>
<ul>
<li>Terminals are so-called because there are no-reulses for replacing
them ç»ˆç»“ç¬¦æ˜¯ä¸å˜çš„</li>
<li>Once generated, terminals are permanentï¼Œç»ˆç»“ç¬¦æ˜¯ä¸å˜çš„</li>
<li>Terminals ought to be tokens of the language
(ç»ˆç»“ç¬¦ä¸€èˆ¬æ˜¯è¯­è¨€çš„tokenï¼Œæ¯”å¦‚å…³é”®å­—ï¼Œæ ‡è¯†ç¬¦)</li>
</ul>
<p>ğŸŒ°ï¼š</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xquery">E -&gt; E + E<br>	 | E * E<br>	 | (E)<br>	 |<span class="hljs-built_in"> id</span><br>	 <br>å¯¹åº”çš„è¯­è¨€ï¼š<span class="hljs-built_in"></span><br><span class="hljs-built_in">id</span><span class="hljs-built_in"></span><br><span class="hljs-built_in">id</span> +<span class="hljs-built_in"> id</span><span class="hljs-built_in"></span><br><span class="hljs-built_in">id</span> +<span class="hljs-built_in"> id</span> *<span class="hljs-built_in"> id</span><br><span class="hljs-built_in">(id</span> +<span class="hljs-built_in"> id</span>) *<span class="hljs-built_in"> id</span><br></code></pre></td></tr></table></figure>
<p>æ•´ä¸ªCFGæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ­¥éª¤ï¼Œéœ€è¦ï¼š</p>
<ul>
<li>Membership in a alnguage is yes or no, also parse tree of the
input</li>
<li>Must handle errors gracefully</li>
<li>Need an implementation of CFG's (eg: bison)</li>
</ul>
<h2 id="derivationsæ¨å¯¼">Derivations(æ¨å¯¼)</h2>
<p>A derivations s a <strong>sequence</strong> f production: <span
class="math display">\[
S -&gt; .. -&gt; ,,, -&gt; ... -&gt; ..
\]</span> æ¨å¯¼è¿‡ç¨‹å¯ä»¥ä»¥æ ‘çš„å½¢å¼ç”»å‡ºæ¥ï¼š</p>
<ul>
<li>start symbol is the tree's root</li>
<li>For a production <span
class="math inline">\(X-&gt;Y_1Y_2..Y_n\)</span> add children <span
class="math inline">\(Y_1Y_2...Y_n\)</span> o node X</li>
</ul>
<p>è€ƒè™‘ä¸‹é¢è¯­æ³•ï¼š <span class="math display">\[
E â†’ E + E |  E * E | (E) | id
\]</span> ä»¥åŠå­—ç¬¦ä¸²ï¼šid * id + id</p>
<figure>
<img
src="/Users/bytedance/Library/Application%20Support/typora-user-images/image-20230617134603437.png" srcset="/emocoder/img/loading.gif" lazyload
alt="image-20230617134603437" />
<figcaption aria-hidden="true">image-20230617134603437</figcaption>
</figure>
<p>A parse tree has</p>
<ul>
<li>Terminals at the leaves</li>
<li>Non-terminals at the interior nodes</li>
</ul>
<blockquote>
<p>å¯¹å¶å­èŠ‚ç‚¹çš„in-orderéå†å°±æ˜¯åŸå§‹è¾“å‡ºï¼Œparse
treeè¡¨ç¤ºäº†tokenä¹‹é—´çš„å„ç§å…³ç³»</p>
<p>å¦‚ä¸‹ï¼š</p>
<p>å¶å­èŠ‚ç‚¹ä»å·¦åˆ°å³ï¼šå°±æ˜¯åŸå§‹è¾“å…¥ï¼šid * id + id</p>
<p>ä¸­é—´èŠ‚ç‚¹å’Œå·¦å³å…„å¼ŸèŠ‚ç‚¹çš„å…³ç³»ä¹Ÿå¾ˆæ˜ç¡®ï¼Œ*çš„å·¦å³å°±æ˜¯id</p>
</blockquote>
<p>ä¸Šè¿°æ¨å¯¼å¼çš„äº§ç”Ÿæ˜¯left-mostï¼Œå³åœ¨æ¯ä¸€æ­¥ä¼˜å…ˆæ¨å¯¼æœ€å·¦è¾¹çš„ç¬¦å·ï¼ˆå³æ¨å¯¼æ–¹å‘æ˜¯è‡ªå·¦å‘å³ï¼‰ï¼Œä½†æ˜¯è¿™æ ·å¯èƒ½ä¼šå‡ºç°æ²¡æœ‰ç»“æŸæ¡ä»¶è€Œä¸€ç›´æ— é™æ¨å¯¼ä¸‹å»ã€‚è¿˜æœ‰ä¸€ç§ä¸ä¹‹ç±»ä¼¼çš„right-most
æ¨å¯¼</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">E<br><span class="hljs-meta prompt_">-&gt; </span><span class="language-bash">E + E</span><br><span class="hljs-meta prompt_">-&gt; </span><span class="language-bash">E + <span class="hljs-built_in">id</span></span><br><span class="hljs-meta prompt_">-&gt; </span><span class="language-bash">E * E + <span class="hljs-built_in">id</span></span><br><span class="hljs-meta prompt_">-&gt; </span><span class="language-bash">E * <span class="hljs-built_in">id</span> + <span class="hljs-built_in">id</span></span><br><span class="hljs-meta prompt_">-&gt; </span><span class="language-bash"><span class="hljs-built_in">id</span> * <span class="hljs-built_in">id</span> + <span class="hljs-built_in">id</span></span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>Note that r-most and l-most derivations have the same parse tree</p>
<p>A derivations defines a parse tree, but one parse tree may have many
derivations</p>
<p>ä¸€ä¸ªParse tree
å¯èƒ½æœ‰å¾ˆå¤šç§æ¨å¯¼æ–¹å¼å¯ä»¥å¾—åˆ°ï¼Œä½†æ˜¯æœ€å·¦æ¨å¯¼å’Œæœ€å³æ¨å¯¼æ˜¯æœ€é‡è¦çš„ä¸¤ç§æ–¹å¼</p>
</blockquote>
<p><strong>Conclusion</strong>:</p>
<ul>
<li>ä¸ä»…å¯¹æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦å±äºL(G)(è¯­æ³•Gæ‰€äº§ç”Ÿçš„è¯­è¨€)æ„Ÿå…´è¶£ï¼Œä¹Ÿéœ€è¦å¯¹åº”çš„è§£ææ ‘</li>
<li>ä¸€ä¸ªæ¨å¯¼å¼å®šä¹‰äº†ä¸€ä¸ªè§£ææ ‘ï¼ˆæˆ–è€…è§£ææ ‘çš„ä¸€éƒ¨åˆ†ï¼‰ï¼ŒåŒä¸€ä¸ªParse tree
å¯èƒ½æœ‰å¾ˆå¤šç§æ¨å¯¼æ–¹å¼å¯ä»¥å¾—åˆ°</li>
</ul>
<h2 id="ambiguityè¯­æ³•çš„äºŒä¹‰æ€§">Ambiguity(è¯­æ³•çš„äºŒä¹‰æ€§)</h2>
<h3 id="è§£æä¼˜å…ˆçº§">è§£æä¼˜å…ˆçº§</h3>
<p>Grammar: E -&gt; E + E | E * E | (E) | id</p>
<p>String stream: id * id + id</p>
<p>ä¸åŒçš„æ¨å¯¼å¾—åˆ°ä¸åŒçš„parse treeï¼š</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mathematica">		<span class="hljs-built_in">E</span><br>	<span class="hljs-built_in">E</span> <span class="hljs-operator">+</span> <span class="hljs-built_in">E</span><br><span class="hljs-built_in">E</span> <span class="hljs-operator">*</span> <span class="hljs-built_in">E</span> <span class="hljs-variable">id</span><br><span class="hljs-variable">id</span>  <span class="hljs-variable">id</span> <br><br>		<span class="hljs-built_in">E</span><br>	<span class="hljs-built_in">E</span>  <span class="hljs-operator">*</span>  <span class="hljs-built_in">E</span><br>  <span class="hljs-variable">id</span>  <span class="hljs-built_in">E</span> <span class="hljs-operator">+</span> <span class="hljs-built_in">E</span><br>		 <span class="hljs-variable">id</span>   <span class="hljs-variable">id</span> <br></code></pre></td></tr></table></figure>
<blockquote>
<p>A grammar is ambiguous if it has more than one parse tree for some
string, æ¢å¥è¯è¯´ï¼Œå¯¹äºæŸäº›å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”±è¶…è¿‡ä¸€ç§çš„åšä½œæˆ–æœ€å³æ¨å¯¼æ–¹å¼</p>
</blockquote>
<p><strong>How to handle ambiguous</strong></p>
<p>Method 1:</p>
<p>é‡å†™è¯­æ³•ï¼šå…¶å®æœ¬è´¨ä¸Šæ˜¯å¼ºåˆ¶äº†è§£ææ—¶å€™çš„ä¼˜å…ˆçº§</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">E -&gt; <span class="hljs-string">E&#x27; + E/E&#x27;</span><br><span class="hljs-string">E&#x27; -&gt; id * E&#x27;</span> | id | (E) * <span class="hljs-string">E&#x27;| (E) </span><br></code></pre></td></tr></table></figure>
<p>Method 2ï¼š</p>
<p>ä¸é‡å†™ï¼Œä½†æ˜¯åœ¨è§£æçš„æ—¶å€™ï¼Œä½¿ç”¨ä¼˜å…ˆçº§æˆ–è€…åˆ¤æ–­å“ªä¸ªæ˜¯æœ€ä¼˜çš„</p>
<h3 id="ç»“åˆæ€§">ç»“åˆæ€§</h3>
<h2 id="parsing-error-handleparserè¿‡ç¨‹çš„é”™è¯¯å¤„ç†">Parsing Error
Handle(parserè¿‡ç¨‹çš„é”™è¯¯å¤„ç†)</h2>
<table>

<thead>
<tr class="header">
<th>Error kind</th>
<th>Example</th>
<th>Detected by</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lexical</td>
<td>ä½¿ç”¨äº†æœªçŸ¥ç¬¦å·ï¼Œæ¯”å¦‚elseå†™æˆäº†eles</td>
<td>Lexer</td>
</tr>
<tr class="even">
<td>Syntax</td>
<td>ç¼–å†™çš„ç¨‹åºå­˜åœ¨ç»“æ„é”™è¯¯ï¼Œæ¯”å¦‚whileåé¢åº”è¯¥æœ‰ä¸€å¯¹{},
ä½†æ˜¯åªå†™äº†ä¸€ä¸ª{</td>
<td>parser</td>
</tr>
<tr class="odd">
<td>Semantic</td>
<td>int x; x(3);å£°æ˜xä¸ºæ™®é€šå˜é‡ï¼Œä½†æ˜¯å´æŠŠxå½“æˆå‡½æ•°ä½¿ç”¨</td>
<td>Type Checker</td>
</tr>
<tr class="even">
<td>Correctness</td>
<td>è‡ªå·±çš„ä»£ç è™½ç„¶é€šè¿‡äº†ç¼–è¯‘å™¨ï¼Œä½†æ˜¯è¿è¡Œç»“æœä¸ç¬¦åˆé¢„æœŸ</td>
<td>User/Testerï¼Œä¸€èˆ¬éœ€è¦è‡ªå·±debug</td>
</tr>
</tbody>
</table>
<p>Error handler should:</p>
<ul>
<li>Report errors accurately and clearly</li>
<li>Recover from an error quickly</li>
<li>Not slow down compilation of valid code</li>
</ul>
<p>å¸¸è§çš„ä¸‰ç§ä¸åŒé”™è¯¯å¤„ç†æ¨¡å¼ï¼š</p>
<ul>
<li>Panic Mode (ä½¿ç”¨ç‰¹æ®Šçš„ç»ˆæ­¢ç¬¦(error)åƒæ‰é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œ)
<ul>
<li>When an error is detected
<ul>
<li>Discard tokens until one with clear role is found</li>
<li>Continue from here</li>
</ul></li>
</ul></li>
</ul>
<p>â€‹ ğŸŒ°ï¼š</p>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs subunit">(1 + + 2) + 2<br><span class="hljs-keyword">skip </span>ahead to next interger and then continue<br></code></pre></td></tr></table></figure>
<p>Bison: use the special terminal error to descide how mucg input to
skip</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coq">E -&gt; int | <span class="hljs-type">E</span> + E | <span class="hljs-type">(E</span>) | <span class="hljs-type">error</span> int | <span class="hljs-type">(error</span>)<br></code></pre></td></tr></table></figure>
<ul>
<li><p>Error productions (æ·»åŠ å¯èƒ½çš„é”™è¯¯çš„æ¨å¯¼å¼): specify known common
mistakes in the grammar</p>
<p>Eg: write 5 x instead of 5 * x</p>
<p>Add production E -&gt; .... | E E</p>
<p>Disadvantage: complicates the grammar</p></li>
<li><p>Automatic local or global correction</p>
<ul>
<li>Find a correct "nearby" program
<ul>
<li>try token insertions and deletions (ç¼–è¾‘è·ç¦»)</li>
<li>exhaustive search</li>
</ul></li>
<li>Disadvantages:
<ul>
<li>hard to impl</li>
<li>slows down parsing of correct programs</li>
<li>"nearby" is not necessarily "the intended" program</li>
</ul></li>
</ul></li>
</ul>
<p>Past:</p>
<ul>
<li>Slow recompilation cycle (even once a day)</li>
<li>rind as many errors in one cycle as possible</li>
</ul>
<p>Present:</p>
<ul>
<li>Quick recompilation cycle</li>
<li>users tend to correct one error/cycle</li>
<li>Complex error recovery is less compelling</li>
</ul>
<h2 id="another-clean-parse-tree-form-ast">Another Clean Parse Tree Form
â€”â€” AST</h2>
<p>Parserè·Ÿè¸ª(trace)ä¸€ä¸ªtokenåºåˆ—çš„æ¨å¯¼è¿‡ç¨‹ï¼Œå¹¶ç”±æ­¤äº§ç”ŸParse tree</p>
<p>ğŸŒ°ï¼š</p>
<p>Grammar: E -&gt; int | (E) | E + E</p>
<p>After lexical analysis: [Int(2), '+', '(', Int(1), '+', 'Int(5),
')']</p>
<p>Parse Tree:</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs scss">	E<br>E + E<br><span class="hljs-built_in">int</span>(<span class="hljs-number">2</span>) (E)<br>		E + E<br>		<span class="hljs-built_in">int</span>(<span class="hljs-number">1</span>) <span class="hljs-built_in">int</span>(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure>
<p>ASTï¼š</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-selector-attr">[Plus, leftO, rightO]</span><br>				<span class="hljs-built_in">Int</span>(<span class="hljs-number">2</span>)  <span class="hljs-selector-attr">[Plus, leftO, rightO]</span><br>												<span class="hljs-built_in">Int</span>(<span class="hljs-number">1</span>) <span class="hljs-built_in">Int</span>(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure>
<p>è¢«ç§°ä¹‹ä¸ºASTï¼Œå› ä¸ºå®ƒä»å…·ä½“è¯­æ³•ä¸­æŠ½è±¡å‡ºæ¥ï¼Œç…ç‚’äº†å…·ä½“è¯­æ³•çš„ç»†èŠ‚ï¼›è€ŒParse
Treeå±•ç¤ºäº†å…·ä½“çš„æ¨å¯¼è§„åˆ™å’Œç›¸å…³ç»“æ„ï¼Œå¯¹äºç¼–è¯‘å™¨æ¥æ°´è¯´ï¼Œæœ‰å¾ˆå¤šä¸å¿…è¦çš„å†…å®¹</p>
<h3 id="é€’å½’ä¸‹é™è§£æ">é€’å½’ä¸‹é™è§£æ</h3>
<p>è§£ææ ‘ä¸€èˆ¬æŒ‰ç…§å¦‚ä¸‹æ–¹å¼æ„å»ºï¼š</p>
<ul>
<li>è‡ªä¸Šè‡³ä¸‹</li>
<li>ä»å·¦åˆ°å³</li>
</ul>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">		<span class="hljs-number">1</span><br><span class="hljs-built_in">t2</span>. <span class="hljs-number">3</span>.  <span class="hljs-built_in">t9</span><br>   <span class="hljs-number">4</span>. <span class="hljs-number">7</span> <br>  <span class="hljs-built_in">t5</span>. <span class="hljs-built_in">t6</span>.  <span class="hljs-built_in">t8</span><br></code></pre></td></tr></table></figure>
<p>Tokens: [t2, t5, t6, t8, t9]</p>
<p>çœ‹ä¸€ä¸ªè¯¦ç»†çš„é€’å½’ä¸‹é™è§£æçš„ğŸŒ°ï¼š</p>
<p>è€ƒè™‘è¯­æ³•Grammar:</p>
<p>E -&gt; T | T | T + E</p>
<p>T -&gt; int | int * T | (E)</p>
<p>è¾“å…¥ï¼š<span class="math inline">\((int_5)\)</span></p>
<p>æ­¥éª¤ï¼š</p>
<p>ä»èµ·å§‹è²ç»ˆç»“ç¬¦å¼€å§‹ï¼Œä¾æ¬¡å°è¯•å…³äºEçš„æ¨å¯¼å¼</p>
<figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ocaml"><span class="hljs-type">E</span> -&gt; <span class="hljs-type">T</span> -&gt; <span class="hljs-built_in">int</span> (mismatch: <span class="hljs-built_in">int</span> does not <span class="hljs-keyword">match</span> (, backtrack) =&gt;<br>		 <span class="hljs-type">T</span> -&gt; [<span class="hljs-built_in">int</span> * <span class="hljs-type">T</span>] (mismatch: <span class="hljs-built_in">int</span> does not <span class="hljs-keyword">match</span> (, backtrack) =&gt;<br>		 <span class="hljs-type">T</span> -&gt; ( <span class="hljs-type">E</span> ) (<span class="hljs-keyword">match</span>: ç»§ç»­ä¸‹ä¸€ä¸ªè¾“å…¥å­—ç¬¦<span class="hljs-built_in">int</span> =&gt;<br>		 <span class="hljs-type">T</span> -&gt; ( <span class="hljs-type">E</span> -&gt; <span class="hljs-built_in">int</span> ) (<span class="hljs-keyword">match</span>: ç»§ç»­ä¸‹ä¸€ä¸ªè¾“å…¥å­—ç¬¦) =&gt;<br></code></pre></td></tr></table></figure>
<p>é€’å½’ä¸‹é™è§£æç®—æ³•çš„ä¸€èˆ¬å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p>é¦–å…ˆå®šä¹‰å‡ ä¸ªå…³äºæ˜¯å¦ç¬¦åˆæŸä¸ªåŒ¹é…çš„å‡½æ•°ï¼š</p>
<ul>
<li><p>æ˜¯å¦ä¸ºç»ˆç»“ç¬¦ï¼š</p>
<figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs wren"><span class="hljs-variable">bool</span> <span class="hljs-title function_">term</span>(<span class="hljs-params">TOKEN</span> <span class="hljs-params">tok</span>) &#123;<span class="hljs-keyword">return</span> <span class="hljs-operator">*</span><span class="hljs-variable">next</span><span class="hljs-operator">+</span><span class="hljs-operator">+</span> <span class="hljs-operator">==</span> <span class="hljs-variable">tok</span>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>æ˜¯å¦ä¸ºlfsä¸ºSç¬¬nä¸ªæ¨å¯¼å¼ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">Sn</span>()</span> &#123;&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>æ˜¯å¦ä¸ºlfsä¸ºSçš„æ¨å¯¼å¼</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">S</span>()</span> &#123;&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p>ğŸŒ°ï¼š</p>
<ul>
<li><p>E -&gt; T: bool E1() { return T() }</p></li>
<li><p>E -&gt; T + E: bool E2() { return T() &amp;&amp; term(PLUS)
&amp;&amp; E() }</p></li>
<li><p>å¯¹äºæ•´ä¸ªEæ¥è¯´ï¼š</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs q">bool E() &#123;<br>	TOKEN *<span class="hljs-built_in">save</span> = <span class="hljs-built_in">next</span>;<br>	return (<span class="hljs-built_in">next</span> = <span class="hljs-built_in">save</span>, E1()) || (<span class="hljs-built_in">next</span> = <span class="hljs-built_in">save</span>, E2());<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p>åŒæ ·çš„å¯¹äºä¸Šé¢çš„éç»ˆç»“ç¬¦Tï¼Œæœ‰ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">T1</span>()</span> &#123;<br>	<span class="hljs-keyword">return</span> term(INT);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">T2</span>()</span> &#123;<br>	<span class="hljs-keyword">return</span> term(INT) &amp;&amp; term(TIMES) &amp;&amp; T();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">T3</span>()</span> &#123;<br>	<span class="hljs-keyword">return</span> term(OPEN) &amp;&amp; E() &amp;&amp; term(CLOSE);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">T</span>()</span> &#123;<br> 	TOKEN *save = next;<br>	<span class="hljs-keyword">return</span> (next = save, T1()) || (next = save, T2() || (next = save, T3()));<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ•´ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åˆå§‹åŒ–nextä¸ºç¬¬ä¸€ä¸ªtoken</li>
<li>è°ƒç”¨E()</li>
</ul>
<p><strong>Conslusion</strong>:</p>
<p>é€’å½’ä¸‹é™è¿‡ç¨‹ä¸­ï¼Œä¸æ–­åœ°é€’å½’åˆå›æº¯æ‰€äº§ç”Ÿçš„å‡½æ•°è°ƒç”¨ç»“æ„å…¶å®å°±æ˜¯è§£ææ ‘çš„ä½“ç°ï¼Œæ‰€ä»¥åœ¨é€’å½’ä¸‹é™çš„åŒæ—¶æ„å»ºASTã€‚</p>
<h3 id="ä¸Šé¢çš„é€’å½’ä¸‹é™ç®—æ³•çš„é™åˆ¶">ä¸Šé¢çš„é€’å½’ä¸‹é™ç®—æ³•çš„é™åˆ¶ï¼š</h3>
<p>å¯¹äºE -&gt; T | T | T +
Eï¼Œä¸€æ—¦é€’å½’åˆ°äº†Tï¼Œå¹¶ä¸”ä»ç»§ç»­å‘ä¸‹é€’å½’ï¼Œä¸€æ—¦ä¸ç¬¦åˆäº†ï¼Œåªä¼šåœ¨å½“å‰å±‚çº§å°è¯•å…¶ä»–çš„æ¨å¯¼å¼ï¼Œä½†æ˜¯ä¸ä¼šåŸºäºTçš„åŒå±‚çº§å»å°è¯•Tå’ŒT+E</p>
<p>æ‰€ä»¥ä¸Šé¢çš„æ™®é€šçš„é€’å½’ä¸‹é™åªé€‚ç”¨äºä¸€éƒ¨åˆ†è¯­æ³•ï¼Œå¯¹äºæœ‰äº›ä¸ç¬¦åˆçš„è¯­æ³•ï¼Œå¯ä»¥é‡‡ç”¨å·¦å› å­(left-factor)è¿›è¡Œæ”¹å†™ï¼š</p>
<h3 id="å·¦é€’å½’">å·¦é€’å½’</h3>
<p>è€ƒè™‘äº§ç”Ÿå¼ï¼šS -&gt; S a</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scss">bool <span class="hljs-built_in">S1</span>() &#123; return <span class="hljs-built_in">S</span>() &amp;&amp; <span class="hljs-built_in">term</span>()&#125;<br>bool <span class="hljs-built_in">S</span>() &#123; return <span class="hljs-built_in">S1</span>()&#125;<br></code></pre></td></tr></table></figure>
<p>å¦‚æœä½¿ç”¨é€’å½’ä¸‹é™ï¼Œä¼šäº§ç”Ÿå¦‚ä¸‹çš„è°ƒç”¨é“¾æ¡ï¼šS =&gt; S1 =&gt; S =&gt; S1
=&gt; ...</p>
<p>è¿™å°±æ˜¯å·¦é€’å½’è¯­æ³•</p>
<p>ä»¥ä¸‹æ˜¯å·¦é€’å½’è¯­æ³•æ›´ä¸€èˆ¬çš„å®šä¹‰ï¼š <span class="math display">\[
S \mathop{\rightarrow}^+ S\alpha (+è¡¨ç¤ºè‡³å°‘æœ‰ä¸€æ¬¡æ¨å¯¼)
\]</span> å†çœ‹è¿™ä¸ªğŸŒ°ï¼š <span class="math display">\[
S \rightarrow S\alpha | \beta
\]</span> å°†ä¼šäº§ç”Ÿä»¥<span class="math inline">\(\beta\)</span>
å¼€å¤´çš„ä¸”<span class="math inline">\(\beta\)</span>
åé¢ç´§è·Ÿä»»æ„æ•°é‡(&gt;=0)<span
class="math inline">\(\alpha\)</span>çš„å­—ç¬¦ä¸²ã€‚</p>
<p>æ—¢ç„¶å·²ç»çŸ¥é“äº†ä¼šäº§ç”Ÿä»€ä¹ˆæ ·çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡æŠŠæ–‡æ³•æ”¹å†™æˆå³é€’å½’é¿å…é€’å½’ä¸‹é™äº§ç”Ÿçš„å·¦é€’å½’é—®é¢˜ï¼š
<span class="math display">\[
S \rightarrow \beta S&#39; \\
S&#39; \rightarrow \alpha S&#39; | \epsilon
\]</span> Conclusionï¼š</p>
<p>ä¸€èˆ¬çš„é€’å½’ä¸‹é™æ˜¯ä»å·¦åˆ°å³è§£æï¼Œç”±äºè¯¥ç®—æ³•çš„æ€§è´¨ï¼Œé‡åˆ°åšé€’å½’æ–‡æ³•ä¼šå¯¼è‡´æ— ç©·é€’å½’ï¼›å¯ä»¥é€šè¿‡æŠŠå·¦é€’å½’æ–‡æ³•æ”¹æˆç‰¹æ®Š(è¿™é‡Œçš„å³é€’å½’æ–‡æ³•ä¹Ÿä»…ä»…é€‚ç”¨äºéƒ¨åˆ†è¯­æ³•)çš„å³é€’å½’æ–‡æ³•é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™éç»ˆç»“ç¬¦åœ¨æœ€å³è¾¹ï¼Œä¸ä¼šæœ‰å³è¾¹å­—ç¬¦å­˜åœ¨ä¸€ç›´é¥¥é¥¿(ä¸€ç›´è®¿é—®ä¸åˆ°)çš„ç°è±¡ã€‚</p>
<p>æ›´ä¸€èˆ¬çš„ï¼Œå¯ä»¥æ”¹å†™æˆå¦‚ä¸‹ç‰¹æ®Šçš„å³é€’å½’æ–‡æ³•ï¼š <span
class="math display">\[
S&#39; \rightarrow S\alpha_1 | ... | S\alpha_n | \beta_1|...|\beta_m
\]</span></p>
<p><span class="math display">\[
S \rightarrow \beta_1 S&#39;| ... | \beta_m S&#39; \\
S&#39; \rightarrow \alpha_1 S&#39; | ... | \alpha_nS&#39; | \epsilon
\]</span></p>
<p>ä½†æ˜¯æœ‰äº›è¯­æ³•ï¼Œå¦‚ï¼š <span class="math display">\[
S \rightarrow A\alpha | \beta \\
A \rightarrow S \beta
\]</span> è¿™ä¸ªè¯­æ³•ä¹Ÿæ˜¯å·¦é€’å½’è¯­æ³•ï¼Œå†™æˆå¦‚ä¸‹å½¢å¼æ›´å¥½ç†è§£ï¼š <span
class="math display">\[
S \mathop{\rightarrow}^+ S \beta \alpha
\]</span> å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼æ¶ˆé™¤å·¦é€’å½’ã€‚</p>
<p>ç»§ç»­top-down</p>
<h3 id="é¢„æµ‹">é¢„æµ‹</h3>
<p>Predicive Parsers like recursive-descent but parser can
<strong>"predict"</strong> which production to use:</p>
<ul>
<li>By looking at the next few tokens</li>
<li>No backtracking</li>
</ul>
<p>Predicive Parsers accept LL(k) grammars (1st L: left 2 right, 2nd L:
left-most derivation, k: k tokens look ahead)</p>
<p>åœ¨é€’å½’ä¸‹é™ç®—æ³•é‡Œï¼š</p>
<ul>
<li>æ¯ä¸€æ­¥ï¼Œæœ‰å¾ˆå¤šäº§ç”Ÿå¼å¯ä»¥ä½¿ç”¨ï¼Œå¦‚ï¼šE -&gt; T | T | T +
Eï¼Œå¯¹äºEï¼Œæœ‰3ç§é€‰æ‹©</li>
<li>éœ€è¦é€šè¿‡å›æº¯æ’¤é”€bad choices</li>
</ul>
<p>LL(1):</p>
<ul>
<li>é€šè¿‡æ”¹å†™æˆåˆé€‚çš„æ–‡æ³•ï¼ˆä¸€èˆ¬æ˜¯å·¦å› å­åˆ†è§£ï¼Œå·¦å› å­åˆ†è§£å¯ä»¥ç†è§£ä¸ºå…¬å…±å·¦å› å­æå–ï¼Œè¿™é‡Œçš„å› å­å€¼ç»ˆç»“ç¬¦ï¼‰æ¯ä¸€æ­¥ï¼Œä»…æœ‰ä¸€æ­¥é€‰æ‹©ï¼š</li>
</ul>
<blockquote>
<p>Hint:
å…¶å®å°±æ˜¯æ ¹æ®å½“å‰é¢„æµ‹å­—ç¬¦å†³å®šé€‰æ‹©ä½¿ç”¨å“ªä¸ªæ¨å¯¼å¼ï¼Œè€Œè¿™ä¸ªé¢„æµ‹å­—ç¬¦å’Œæ¨å¯¼å¼çš„å…³ç³»éœ€è¦ç”¨ä¸€å¼ è¡¨æ¥è®°å½•</p>
</blockquote>
<p>ç»§ç»­è€ƒè™‘è¯­æ³•Grammar:</p>
<p>E -&gt; T | T | T + E</p>
<p>T -&gt; int | int * T | (E)</p>
<p>éš¾ä»¥äº§ç”Ÿé¢„æµ‹å­—ç¬¦ï¼š</p>
<ul>
<li>å¯¹äºTï¼Œæœ‰ä¸¤ä¸ªintå¼€å¤´çš„æ¨å¯¼å¼ï¼Œæ‰€ä»¥å³ä½¿å½“å‰æœ‰é¢„æµ‹å­—ç¬¦intï¼Œä¹Ÿæ— æ³•é€‰æ‹©å“ªä¸€ä¸ªæ˜¯æœ€ä¼˜çš„æ¨å¯¼</li>
<li>å¯¹äºEï¼Œæ›´ä¸å®¹æ˜“çœ‹å‡ºé¢„æµ‹å­—ç¬¦æ˜¯ä»€ä¹ˆ</li>
</ul>
<p>éœ€è¦å·¦å› å­è¯­æ³•æ”¹å†™ï¼š</p>
<p>E -&gt; TX</p>
<p>X -&gt; +E | </p>
<p>T -&gt; intY | (E)</p>
<p>Y -&gt; *T | </p>
<p>æ ¹æ®æ–°è¯­æ³•å¯ä»¥è®¡ç®—å¾—åˆ°LL(1) parse table:
å…¶ä¸­è¡¨å¤´ä¸ºä¸‹ä¸€ä¸ªè¾“å…¥çš„tokenï¼Œæ¯ä¸€è¡Œæ˜¯éç»ˆç»“ç¬¦ï¼Œå•å…ƒæ ¼é‡Œçš„å†…å®¹å°±æ˜¯å½“å‰ä½¿ç”¨å“ªä¸ªæ¨å¯¼å¼çš„rfsï¼Œè¿™é‡Œæš‚æ—¶æ²¡æœ‰è®²å¦‚ä½•æ„é€ è¿™å¼ è¡¨çš„</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>int</th>
<th>*</th>
<th>+</th>
<th>ï¼ˆ</th>
<th>ï¼‰</th>
<th>$</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>E</td>
<td>TX</td>
<td></td>
<td></td>
<td>TX</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>X</td>
<td></td>
<td></td>
<td>+E</td>
<td></td>
<td><span class="math inline">\(\epsilon\)</span></td>
<td><span class="math inline">\(\epsilon\)</span></td>
</tr>
<tr class="odd">
<td>T</td>
<td>int Y</td>
<td></td>
<td></td>
<td>(E)</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Y</td>
<td></td>
<td>*T</td>
<td><span class="math inline">\(\epsilon\)</span></td>
<td></td>
<td><span class="math inline">\(\epsilon\)</span></td>
<td><span class="math inline">\(\epsilon\)</span></td>
</tr>
</tbody>
</table>
<p>æ¯”å¦‚ï¼š[Y, +] entryï¼Œè¡¨ç¤ºå½“å‰éç»ˆç»“ç¬¦Yï¼Œé‡åˆ°äº†å½“å‰è¾“å…¥token +</p>
<p>é‚£ä¹ˆYå°±å¯ä»¥æŒ‰ç…§<span class="math inline">\(Y \rightarrow
\epsilon\)</span> æ¨å¯¼ï¼Œ</p>
<p>[E, *] entryï¼Œè¡¨ç¤ºå½“å‰éç»ˆç»“ç¬¦Xï¼Œé‡åˆ°äº†å½“å‰è¾“å…¥token
*ï¼Œæ²¡æœ‰åˆé€‚çš„æ¨å¯¼å¼å¯ä»¥ä½¿ç”¨</p>
<p>è¿™é‡Œæˆ‘ä»¬å†æä¸€ä¸ªé¢å¤–çš„çŸ¥è¯†ç‚¹ï¼š</p>
<p>æˆ‘ä»¬ä¸æƒ³é‡‡ç”¨é€’å½’çš„æ–¹å¼å»åšè§£æï¼Œè€Œæ˜¯åˆ©ç”¨æ ˆè§£æï¼š</p>
<ul>
<li>éç»ˆç»“ç¬¦ä»ç„¶æ˜¯æ‰©å±•æ›¿æ¢çš„</li>
<li>ç»ˆç»“ç¬¦ä¹Ÿä»ç„¶ä¼šè¾“å…¥è¿›è¡Œæ¯”è¾ƒåŒ¹é…</li>
<li>æ ˆé¡¶=æœ€å·¦è¾¹çš„å¾…å¤„ç†çš„éç»ˆç»“ç¬¦æˆ–éç»ˆç»“ç¬¦</li>
<li>Reject on reaching error state</li>
<li>Accepy on end of input &amp; empty stack</li>
</ul>
<p>å½¢å¼åŒ–å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs gradle">initialize stack = &lt;S $&gt; and <span class="hljs-keyword">next</span><br>repeat<br>	<span class="hljs-keyword">case</span> stack of<br>		&lt;X, rest&gt;: <span class="hljs-keyword">if</span> T[X, *<span class="hljs-keyword">next</span>] = Y1...Yn<br>								then stack &lt;- &lt;Y1...Yn rest&gt;;<br>								<span class="hljs-keyword">else</span> error(); <span class="hljs-comment">// ä¸å­˜åœ¨æ¨å¯¼åŠ¨ä½œåˆ™ç›´æ¥æŠ¥é”™</span><br>		&lt;t, rest&gt;: <span class="hljs-keyword">if</span> t == *<span class="hljs-keyword">next</span>++<br>								then stack &lt;- &lt;rest&gt;;<br>								<span class="hljs-keyword">else</span> error();	<br>until stack == &lt;&gt;<br><br>åˆå§‹åŒ–çš„æ—¶å€™æ ˆé¡¶æ˜¯å…¶å®éç»ˆç»“ç¬¦S,<br>åç»­ï¼Œå¦‚æœå½“å‰æ ˆé¡¶æ˜¯éç»ˆç»“ç¬¦Xï¼Œä¸”æ ¹æ®é¢„æµ‹è¡¨æ‰§è¡Œçš„æ¨å¯¼åŠ¨ä½œæ˜¯X -&gt; Y1...Yn,åˆ™<span class="hljs-keyword">pop</span> X <span class="hljs-keyword">from</span> stack and <span class="hljs-keyword">push</span> Y1...Yn <span class="hljs-keyword">into</span> stack<br>	å¦åˆ™ï¼šå¦‚æœæ ˆé¡¶æ˜¯ç»ˆç»“ç¬¦ä¸”å’Œå½“å‰è¾“å…¥ç›¸åŒï¼ˆè¯´æ˜æ ˆé¡¶çš„è¿™ä¸ªå…ƒç´ ç›´æ¥å¯ä»¥ä½¿ç”¨å…¶æœ¬èº«è¿›è¡Œæ¨å¯¼ï¼‰ï¼Œåˆ™<span class="hljs-keyword">pop</span> t <span class="hljs-keyword">from</span> stack<br></code></pre></td></tr></table></figure>
<p>çœ‹ä¸€ä¸ªğŸŒ°ï¼š</p>
<figure>
<img
src="/Users/bytedance/Library/Application%20Support/typora-user-images/image-20230619230522565.png" srcset="/emocoder/img/loading.gif" lazyload
alt="image-20230619230522565" />
<figcaption aria-hidden="true">image-20230619230522565</figcaption>
</figure>
<h3 id="first">first</h3>
<h3 id="follow">follow</h3>
<h3 id="ll1-parse-table">ll1-parse-table</h3>
<p>æ„å»ºé¢„æµ‹è¡¨çš„æ­¥éª¤ï¼š</p>
<p>For each production <span class="math inline">\(A \rightarrow
\alpha\)</span> in G do:</p>
<ul>
<li>For each terminal <span class="math inline">\(t \in
First(\alpha)\)</span> do
<ul>
<li><span class="math inline">\(T[A, t] = \alpha\)</span></li>
</ul></li>
<li>If <span class="math inline">\(\epsilon \in First(\alpha)\)</span>
for each t $t Follow(A) $ do
<ul>
<li><span class="math inline">\(T[A, t] = \alpha\)</span></li>
</ul></li>
<li>If <span class="math inline">\(\epsilon \in First(\alpha)\)</span>
and t $$ Follow(A) $ do
<ul>
<li><span class="math inline">\(T[A, t] = \alpha\)</span></li>
</ul></li>
</ul>
<p>First() = { $, ) }</p>
<p>Follow(X) = { +, $, ) }</p>
<p>æ‰€ä»¥ä¸Šé¢çš„è¯­æ³•å½¢æˆçš„é¢„æµ‹è¡¨å¦‚ä¸‹</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>(</th>
<th>)</th>
<th>+</th>
<th>*</th>
<th>int</th>
<th>$</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>E</td>
<td>TX</td>
<td></td>
<td></td>
<td></td>
<td>TX</td>
<td></td>
</tr>
<tr class="even">
<td>T</td>
<td>(E)</td>
<td></td>
<td></td>
<td></td>
<td>intY</td>
<td></td>
</tr>
<tr class="odd">
<td>X</td>
<td></td>
<td>+E</td>
<td></td>
<td></td>
<td></td>
<td><span class="math inline">\(\epsilon\)</span></td>
</tr>
<tr class="even">
<td>Y</td>
<td></td>
<td><span class="math inline">\(\epsilon\)</span></td>
<td><span class="math inline">\(\epsilon\)</span></td>
<td>*T</td>
<td></td>
<td><span class="math inline">\(\epsilon\)</span></td>
</tr>
</tbody>
</table>
<p>ä¸Šè¿°è¡¨æ ¼æ¯ä¸ªè¡¨æ ¼å†…çš„æ¡ç›®æœ€å¤šåªæœ‰ä¸€æ¡ï¼Œå½“å”¯æçš„æ—¶å€™ï¼Œè¡¨ç¤ºè§£æé‡åˆ°é”™è¯¯ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªè¡¨æ ¼å†…ä¸æ­¢ä¸€ä¸ªæ¡ç›®çš„ä¾‹å­ï¼š</p>
<p>è¯­æ³•ï¼š<span class="math inline">\(S -&gt; Sa | b\)</span></p>
<p>First(S) = { b }</p>
<p>Follow(S) = { $, a }</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>a</th>
<th>b</th>
<th>$</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>$</td>
<td>b / Sa</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>æ­£å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœä¸€ä¸ªè¡¨çš„å†…å®¹æ˜¯å¤šä¸ªï¼Œåˆ™è¯¥è¯­æ³•ä¸æ˜¯LL(1)ï¼Œå½“ç‡ƒåˆ¤æ–­æ˜¯å¦ä¸ºLL(1)è¿˜æœ‰å…¶ä»–æ–¹æ³•ï¼š</p>
<ul>
<li>éå·¦å› å­è¯­æ³•ä¸æ˜¯LL(1)</li>
<li>å·¦é€’å½’ä¸æ˜¯LL(1)</li>
<li>äºŒä¹‰æ€§ä¹Ÿä¸æ˜¯</li>
<li>å…¶ä»–çš„ï¼Œå¦‚LL(k), k &gt; 1ä¹Ÿä¸æ˜¯</li>
</ul>
<p><strong>ç½‘é¡µçŸ¥è¯†ç‚¹ï¼š</strong></p>
<p>LLå’ŒLRï¼š</p>
<p>æ¦‚å¿µæ¢³ç†ï¼š</p>
<p>é¦–å…ˆè¯´æ˜ï¼ŒContext-free
grammarä¸æ— äºŒä¹‰æ€§æ–‡æ³•ä¸æ˜¯ä¸€ä¸ªå±‚çº§çš„æ¦‚å¿µã€‚CFGçš„æ„æ€æ˜¯ï¼šæˆ‘ä»¬ç”¨äº§ç”Ÿå¼è®¾è®¡çš„ä¸€ç»„æ–‡æ³•ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ¨å¯¼ï¼Œå…¶ä¸­çš„NTå¯ä»¥ä»»æ„åœ°è¢«äº§ç”Ÿå¼å³éƒ¨æ›¿æ¢è€Œåˆæ³•ï¼ˆè¿™å¹¶ä¸é™åˆ¶å¯¹äºä¸€ä¸ªæ–‡æœ¬ï¼Œåªèƒ½æ¨ç†å‡ºä¸€æ£µæ ‘ï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¯ä¸ªNTä¹‹ä¸‹çš„äº§ç”Ÿå¼æ˜¯ç­‰ä»·çš„ï¼Œæ¯”å¦‚å¯¹äºVerb-&gt;åƒ/ç¡/é£ï¼Œåœ¨å…·ä½“è§£ææ—¶ï¼Œä¸è®ºå‰é¢çš„ä¸»è¯­/åé¢çš„å®¾è¯­æ˜¯ä»€ä¹ˆï¼Œéƒ½åˆæ³•ã€‚äºŒä¹‰æ€§æ˜¯åœ¨CFGä¹‹ä¸‹çš„æ¦‚å¿µã€‚</p>
<p><a
target="_blank" rel="noopener" href="https://blog.reverberate.org/2013/07/ll-and-lr-parsing-demystified.html">LL
and LR Parsing Demystified (reverberate.org)</a></p>
<p>LLè¡¨ç¤ºä»å·¦åˆ°å³æ‰«æè¾“å…¥å¹¶æ‰§è¡Œæœ€å·¦æ¨å¯¼ï¼ŒLLå’ŒLRç›¸æ¯”å“ªä¸ªé€‚ç”¨èŒƒå›´æ›´å¹¿å‘¢ï¼Ÿ</p>
<p>ä¸ºç®€å•è®¨è®ºï¼Œæˆ‘ä»¬åªè®¨è®ºLL(1)å’ŒLR(1)ï¼Œ1ä»£è¡¨å‘å‰æŸ¥çœ‹çš„å­—ç¬¦æ•°é‡ï¼ˆé¢„æµ‹1ä¸ªå­—ç¬¦ï¼‰ï¼Œ1è¡¨ç¤ºä»»ä½•æ—¶åˆ»æˆ‘ä»¬æå‰æŸ¥çœ‹å½“å‰è¾“å…¥å­—ç¬¦çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œå†æ ¹æ®è¿™ä¸ªæå‰æŸ¥çœ‹çš„å­—ç¬¦å†³å®šä½¿ç”¨å“ªä¸€ä¸ªè§„çº¦è¡Œä¸ºã€‚</p>
<ul>
<li>In LL(1) we see the first symbol of the input and see the production
to apply. So, if there is two productions with the same â€˜firstâ€™ symbol
as in the input parser gets a conflict and fails.</li>
<li>åœ¨LL(1)é‡Œï¼Œæˆ‘ä»¬è‡ªå·¦åˆ°å³è¿›è¡Œè§„çº¦ï¼ŒæŸ¥çœ‹å½“å‰å­—ç¬¦å’Œé‡‡ç”¨å¯¹åº”çš„æ¨å¯¼å¼è¿›è¡Œè§„çº¦ã€‚æ‰€ä»¥ï¼Œå¦‚æœå¦‚æœæœ‰ä¸¤ä¸ªæ¨å¯¼å¼æœ‰ç€ç›¸åŒçš„fiest
symbolï¼Œå°±ä¼šäº§ç”Ÿå†²çª</li>
<li>åœ¨ LRï¼ˆ1ï¼‰
ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ä»å·¦è¾¹å¼€å§‹çš„è¾“å…¥ï¼Œç›´åˆ°æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªhandleã€‚åœ¨æ­¤ä¹‹åï¼Œæˆ‘ä»¬å†çœ‹åˆ°ä¸€ä¸ªå‰ç»ç¬¦å·å¹¶ç¡®å®šè§£æå™¨æ“ä½œ.å³ï¼Œè§£æå™¨æ¯”
LLï¼ˆ1ï¼‰ ä¸­æœ‰æ›´å¤šçš„ä¿¡æ¯æ¥å†³å®šå…¶æ“ä½œï¼Œè¿™ä½¿å¾—å®ƒæ¯” LLï¼ˆ1ï¼‰
æ›´å¼ºå¤§ã€‚æ›´å¼ºå¤§çš„æ‰‹æ®µæ˜¯ï¼Œä»»ä½•å¯ä»¥è¢« LLï¼ˆ1ï¼‰ è§£æçš„è¯­æ³•ä¹Ÿå¯ä»¥è¢« LRï¼ˆ1ï¼‰
è§£æã€‚</li>
<li>è¿™ç§æƒ…å†µåœ¨æ›´ä¸€èˆ¬çš„åœºæ™¯ä¸‹ä¹Ÿæˆç«‹ï¼Œå¯¹äºä»»ä½•kï¼ŒLLï¼ˆkï¼‰è¯­æ³•é›†æ˜¯LRï¼ˆkï¼‰è¯­æ³•é›†çš„é€‚å½“å­é›†</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬æ‰€è¯´çš„è§£æå™¨çš„èƒ½åŠ›æŒ‡çš„æ˜¯å…¶å¯ä»¥è§£æçš„è¯­æ³•çš„èŒƒå›´ï¼Œå¹¶ä¸æ˜¯è¯´å®ƒèƒ½å¤Ÿç”Ÿæˆçš„è¯­è¨€ã€‚æ‰€ä»¥ä»€ä¹ˆæ˜¯LL(1)è¯­è¨€å‘¢ï¼Œå®ƒä»¬æ˜¯ä¸æ˜¯éƒ½å¯ä»¥è¢«LL(1)ç”Ÿæˆå‘¢ï¼Ÿ</p>
<p>å®é™…ä¸ŠLL(k)çš„èƒ½åŠ›å’Œkæˆæ­£æ¯”ï¼Œkè¶Šå¤§ï¼ŒLL(k)çš„èƒ½åŠ›è¶Šå¼ºï¼ŒLL(k)æ˜¯LL(k+1)çš„å­é›†</p>
<p>é‚£LR(k)?</p>
<p><span class="math inline">\(First(\alpha)\)</span> æ˜¯ä»<span
class="math inline">\(\alpha\)</span>æ¨å¯¼çš„handleçš„èµ·å§‹ç»ˆç»“ç¬¦çš„é›†åˆ</p>
<p><span
class="math inline">\(Follow(A)\)</span>(è¿™é‡Œå¤§å†™è¡¨ç¤ºAæ˜¯ä¸€ä¸ªéç»ˆç»“ç¬¦)ï¼Œæ˜¯ç´§è·Ÿåœ¨Aåé¢çš„ç»ˆç»“ç¬¦çš„é›†åˆ</p>
<p>å½“ä¸”ä»…å½“ä¸€ä¸ªè¯­æ³•Gæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼ŒGæ‰è¢«ç§°ä¹‹ä¸ºLL(1):</p>
<ol type="1">
<li>G not unambiluous</li>
<li>G not left-recursive</li>
<li>If there is a production <span class="math inline">\(Aâ†’\alpha |
\beta\)</span>, then
<ol type="1">
<li><span class="math inline">\(First(\alpha) \cup First(\beta) =
empty\)</span> å¦åˆ™è§£æå™¨ä¸çŸ¥é“ä½¿ç”¨å“ªä¸ªæ¨å¯¼å¼</li>
<li>if <span class="math inline">\(First(\alpha) \cup First(\beta) =
empty\)</span> contains <span class="math inline">\(\epsilon\)</span>,
<span class="math inline">\(First(\beta)\)</span>ä¸åº”è¯¥åŒ…å«<span
class="math inline">\(\epsilon\)</span>,
å¦åˆ™è§£æå™¨ä¸çŸ¥é“ä½¿ç”¨å“ªä¸ªæ¨å¯¼å¼</li>
<li>if <span class="math inline">\(First(\alpha) \cup First(\beta) =
empty\)</span>, <span class="math inline">\(First(\beta) \cup
First(\alpha) = empty\)</span>, å¦åˆ™è§£æå™¨ä¸çŸ¥é“ä½¿ç”¨å“ªä¸ªæ¨å¯¼å¼</li>
</ol></li>
</ol>
<p>ä¸‹é¢æ˜¯LRéƒ¨åˆ†:</p>
<p>itemï¼šæ–‡æ³•çš„ä¸€ä¸ªäº§ç”Ÿå¼GåŠ ä¸Šå…¶å³éƒ¨æŸä¸€ä½ç½®çš„ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹è¡¨ç¤ºäº†åˆ†æè¿‡ç¨‹ä¸­çš„çŠ¶æ€ã€‚</p>
<p>äº§ç”Ÿå¼A-&gt;XYZ äº§ç”Ÿçš„å››ä¸ªé¡¹ï¼š</p>
<p>A-&gt;Â·XYZ A-&gt;XÂ·YZ A-&gt;XYÂ·Z A-&gt;XYZÂ·
ä»¥ç¬¬äºŒä¸ªé¡¹ä¸ºä¾‹ï¼Œå…¶è¡¨ç¤ºå·²ç»æ¥æ”¶äº†ä¸€ä¸ªå¯ä»¥ç”±Xæ¨å¯¼çš„ä¸²ï¼Œå¦‚æœå¸Œæœ›èƒ½å½’çº¦ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¦è¯†åˆ«ä¸€ä¸ªèƒ½å¤Ÿç”±YZæ¨å¯¼çš„ä¸²ã€‚</p>
<p>Dcfl is a superset of regular. But dcfl with prefix property is
not.</p>
<h1 id="viable-prefixes-and-handle-in-lr-parsing">Viable Prefixes and
Handle in LR Parsing</h1>
<h3 id="bottom-up-parsing">Bottom-up Parsing</h3>
<p>Consider the grammar</p>
<ul>
<li><span class="math inline">\(S -&gt; XX\)</span></li>
<li>$X -&gt; aX | b $</li>
</ul>
<p>Now, consider a string in <span class="math inline">\(L(S)\)</span>
say aabb. We can parse it as follows by left most derivation â€“ replacing
the left most non-terminal in each step, or right most derivation â€“
replacing the rightmost non-terminal in each step.</p>
<p>è€ƒè™‘ä¸€ä¸ªç¬¦åˆè¯¥æ–‡æ³•çš„å­—ç¬¦ä¸²aabbï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§æœ€å·¦æ¨å¯¼è§£æå®ƒï¼ˆæ¯ä¸€æ­¥æ›¿æ¢æœ€å·¦è¾¹çš„éç»ˆç»“ç¬¦ï¼‰æˆ–è€…ä¹Ÿå¯ä»¥æŒ‰ç…§æœ€å³æ¨å¯¼è§£æå®ƒï¼ˆæ¯ä¸€æ­¥æ›¿æ¢æœ€å³è¾¹çš„éç»ˆç»“ç¬¦ï¼‰</p>
<figure>
<img
src="/Users/bytedance/Library/Application%20Support/typora-user-images/image-20230619000054295.png" srcset="/emocoder/img/loading.gif" lazyload
alt="image-20230619000054295" />
<figcaption aria-hidden="true">image-20230619000054295</figcaption>
</figure>
<p><strong>ä¸Šé¢çš„æœ€å³æ¨å¯¼è¢«ç”¨åœ¨bottom-up parsing</strong></p>
<blockquote>
<ul>
<li><em>Any string derivable from the start symbol is a sentential form
â€” it becomes a sentence if it contains only terminals</em></li>
<li><em>A sentential form that occurs in the leftmost derivation of some
sentence is called left-sentential form</em></li>
<li><em>A sentential form that occurs in the rightmost derivation of
some sentence is called right-sentential form</em></li>
</ul>
</blockquote>
<p>å†æ¬¡è€ƒè™‘å­—ç¬¦ä¸²aabbï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹æ³•è§£æï¼š</p>
<p>ä»å·¦è‡³å³æ‰«æè¾“å…¥ï¼Œå¦‚æœå­˜åœ¨å­ä¸²åŒ¹é…ä»»ä½•æ¨å¯¼å¼çš„<strong>å³ä¾§</strong>(RHS,
right hand of string), ç”¨è¯¥æ¨å¯¼å¼çš„<strong>å·¦ä¾§</strong>æ›¿æ¢è¯¥å­—ç¬¦ä¸²</p>
<p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol type="1">
<li>â€˜aâ€™ â€œabbâ€ â€“ ä¸å­˜åœ¨RHSåŒ¹é…'a'</li>
<li>â€˜aaâ€™ â€œbbâ€ â€“ ä¸å­˜åœ¨RHSåŒ¹é…'a' æˆ–è€… 'aa'</li>
<li>â€˜aabâ€™ â€œbâ€ â€“ RHS of <span class="math inline">\(Xâ†’b\)</span> matches
â€˜bâ€™ (first b from left) and so we write as</li>
</ol>
<p>Consider the string aabb again. We will see a method to parse
this:</p>
<ol type="1">
<li>Scan the input from left to right and see if any substring matches
the RHS of any production. If so, replace that substring by the LHS of
the production.</li>
</ol>
<p>So, for â€œaabbâ€ we do as follows</p>
<ol type="1">
<li>â€˜aâ€™ â€œabbâ€ â€“ No RHS matches â€˜aâ€™</li>
<li>â€˜aaâ€™ â€œbbâ€ â€“ No RHS matches â€˜aâ€™ or â€˜aaâ€™</li>
<li>â€˜aabâ€™ â€œbâ€ â€“ RHS of <span class="math inline">\(Xâ†’b\)</span> matches
â€˜bâ€™ (first b from left) and so we write as aaXb</li>
<li>â€˜aaXâ€™ â€œbâ€ â€“ RHS of <span class="math inline">\(Xâ†’aX\)</span> matches
â€œaXâ€ and so we write as</li>
<li>aXb â€“ Again RHS of <span class="math inline">\(Xâ†’aX\)</span> matches
â€œaXâ€ and we get</li>
<li>Xb â€“ RHS of <span class="math inline">\(Xâ†’b\)</span> matches â€œbâ€ and
we get</li>
<li>XX â€“ RHS of <span class="math inline">\(Sâ†’XX\)</span>matches XX and
we get</li>
<li>S â€“ the start symbol.</li>
</ol>
<p>Now what we did here is nothing but a bottom-up parsing. Bottom-up
because we started from the string and not from the grammar. Here, we
applied a sequence of reductions, which are as follows: <span
class="math display">\[
aabb â†’ aaXb â†’ aXb â†’ Xb â†’ XX â†’ S
\]</span> If we go up and see the Rightmost derivation of the string
â€œaabbâ€, what we got is the same but in REVERSE order. i.e., our bottom
up parsing is doing reverse of the RIGHTMOST
derivation(ä»”ç»†è§‚å¯Ÿä¸Šè¿°çš„æ›¿æ¢è¿‡ç¨‹å’Œæœ€å¼€å§‹çš„æœ€å³æ¨å¯¼çš„é¡ºåºæ˜¯ç›¸åçš„).
<strong>So, we can call it an <span class="math inline">\(LR\)</span>
parser â€“$ L$ for scanning the input from Left side and <span
class="math inline">\(R\)</span> for doing a Rightmost
derivation.</strong></p>
<p>In our parsing we substituted the RHS of a production at each step.
This substituted â€œsubstringâ€ is called a HANDLE and are shown in
<strong>BOLD</strong>
below(åœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸€æ­¥æ›¿æ¢äº†å­ä¸²ï¼Œè¿™äº›å­ä¸²ç§°ä¸ºHandleï¼Œåœ¨ä¸‹é¢è¢«åŠ ç²—äº†).
<span class="math display">\[
aa\bold bb â†’ a\bold a \bold Xb â†’ \bold a \bold Xb â†’ X\bold b â†’ \bold X
\bold X â†’ S
\]</span> Formally a handle is defined as (Greek letters used to denote
a string of terminals and non-terminals)</p>
<blockquote>
<p>"<em>A handle of a right sentential form â€˜</em>Î³<em>â€™</em>
(Î³=Î±Î´Î²<em>) is a production</em> Eâ†’Î´ <em>and a position in</em> Î³
<em>where</em> Î´ <em>can be found and substituted by</em> E <em>to get
the</em> <strong>previous step</strong> <em>in the right most derivation
of</em> Î³ <em>â€” previous and not â€œnextâ€ because we are doing rightmost
derivation in REVERSE. Handle can be given as a production or just the
RHS of a production.</em></p>
</blockquote>
<p>The handle is not necessarily starting from the left most position as
clear from the above example
(ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°handleä¸ä¸€å®šå¼€å§‹äºRHSçš„æœ€å·¦è¾¹). There is importance
to the input string which occurs to the left of the handle
(æ‰€è°“çš„å¯è¡Œå‰ç¼€å°±æ˜¯å½“å‰handleçš„æ‰€æœ‰å‰ç¼€). For example for the handles of
â€œaabbâ€, we can have the following set of prefixes</p>
<table>
<tbody>
<tr class="odd">
<td>aa<strong>b</strong>b</td>
<td>{a, aa, aab}</td>
</tr>
<tr class="even">
<td>aa<strong>X</strong>b</td>
<td>{a, aa, aaX}</td>
</tr>
<tr class="odd">
<td>a<strong>X</strong>b</td>
<td>{a, aX}</td>
</tr>
<tr class="even">
<td>X<strong>b</strong></td>
<td>{X, Xb}</td>
</tr>
<tr class="odd">
<td><strong>XX</strong></td>
<td>{X, XX}</td>
</tr>
</tbody>
</table>
<p>These set of prefixes are called Viable Prefixes
(è¿™äº›å‰ç¼€é›†åˆè¢«ç§°ä¸ºå¯è¡Œå‰ç¼€). Formally</p>
<blockquote>
<p>" Viable prefixes are the prefixes of right sentential forms that do
not extend beyond the end of its handle.</p>
<p>i.e., a viable prefix either has no handle or just one possible
handle on the extreme RIGHT which can be reduced.</p>
</blockquote>
<p>We will see later that viable prefixes can also be defined as the set
of prefixes of the right-sentential form that can appear on the stack of
a shift-reduce parser. Also, the set of all viable prefixes of the right
sentential forms of a grammar is a REGULAR LANGUAGE. i.e., viable
prefixes can be recognized by using a FINITE AUTOMATA. Using this FINITE
AUTOMATA and a stack we get the power of a Push Down Automata and that
is how we can parse context-free languages.</p>
<p>åœ¨åé¢ï¼Œå¯è¡Œå‰ç¼€ä¹Ÿå¯ä»¥è¢«å®šä¹‰ä¸ºå‡ºç°åœ¨shift-reduceè§£æå™¨çš„æœ€å³æ¨å¯¼å¼çš„å‰ç¼€é›†åˆã€‚å½“ç„¶ï¼Œæ‰€æœ‰çš„å¯è¡Œå‰ç¼€æ˜¯æ­£åˆ™è¯­è¨€ï¼Œæ‰€ä»¥ï¼Œå¯è¡Œå‰ç¼€å¯ä»¥è¢«æœ‰é™è‡ªåŠ¨æœºè¯†åˆ«ã€‚ä½¿ç”¨æœ‰é™è‡ªåŠ¨æœºå’Œstackå°±å¯ä»¥Push
Down Automataï¼Œè¿™æœ¬è´¨ä¸Šå°±æ˜¯åœ¨è§£æä¸Šä¸‹æ— å…³æ–‡æ³•ã€‚</p>
<p><strong>å‚è€ƒæ–‡çŒ®</strong>ï¼šhttps://web.stanford.edu/class/archive/cs/cs143/cs143.1128/handouts/100%20Bottom-Up%20Parsing.pdf</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/emocoder/categories/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" class="category-chain-item">ç¼–è¯‘åŸç†</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/emocoder/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%EF%BC%8C%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%EF%BC%8Ccool/">#ç¼–è¯‘åŸç†ï¼Œè®¡ç®—æœºåŸºç¡€ï¼Œcool</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 3 Parsing Analysis 1 (Introduction &amp; LL Analysis)</div>
      <div>https://mingmingjiang1.github.io/emocoder/2023/06/10/ç¼–è¯‘åŸç†/ç¼–è¯‘åŸç†ä¸‰/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>è¿·é€”çŸ¥è¿”</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2023å¹´6æœˆ10æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/emocoder/2023/06/10/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%8D%81%E4%BA%8C/" title="æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 12 Conclusion">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 12 Conclusion</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/emocoder/2023/06/10/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%E5%9B%9B/" title="æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 4 Parsing Analysis 2 (LR Analysis)">
                        <span class="hidden-mobile">æ–¯å¦ç¦cs231(ç¼–è¯‘åŸç†)ã® 4 Parsing Analysis 2 (LR Analysis)</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/emocoder/js/events.js" ></script>
<script  src="/emocoder/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/emocoder/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/emocoder/js/local-search.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/emocoder/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
